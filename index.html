<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trem da Alegria - Projeto Natalino</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="ambient-light light-red"></div>
    <div class="ambient-light light-green"></div>
    <div class="ambient-light light-blue"></div>
    <div class="ambient-light light-gold"></div>

    <div class="christmas-tree tree-left">ğŸ„</div>
    <div class="christmas-tree tree-right">ğŸ„</div>

    <div class="ornament ornament-1">ğŸ€</div>
    <div class="ornament ornament-2">â­</div>
    <div class="ornament ornament-3">ğŸ””</div>
    <div class="ornament ornament-4">ğŸ</div>

    <div class="santa-container">
        <div class="santa">
            <span>ğŸ…</span>
            <span>ğŸ¦Œ</span>
            <span>ğŸ¦Œ</span>
            <span>ğŸ¦Œ</span>
        </div>
    </div>

    <div class="container">
        <div class="garland">
            <div class="garland-light"></div>
            <div class="garland-light"></div>
            <div class="garland-light"></div>
            <div class="garland-light"></div>
            <div class="garland-light"></div>
            <div class="garland-light"></div>
            <div class="garland-light"></div>
            <div class="garland-light"></div>
        </div>

        <div class="bell bell-left">ğŸ””</div>
        <div class="bell bell-right">ğŸ””</div>

        <div class="gift gift-1">ğŸ</div>
        <div class="gift gift-2">ğŸ</div>
        <div class="gift gift-3">ğŸ€</div>
        <div class="gift gift-4">ğŸ€</div>

        <h1>ğŸ„ Trem da Alegria ğŸš‚</h1>
        
        <div class="content">
            <div class="sidebar">
                <div class="link-box">
                    <a href="https://docs.google.com/presentation/" target="_blank">ğŸ“Š Slides</a>
                </div>
                <div class="link-box">
                    <a href="https://docs.google.com/document/" target="_blank">ğŸ“„ Documento TCC</a>
                </div>
                <div class="names-box">
                    <h3>ğŸ… Equipe do Projeto</h3>
                    <p>â­ VINICIOS</p>
                    <p>â­ ANDRÃ‰</p>
                    <p>â­ MURILO</p>
                    <p>â­ KAYKY</p>
                </div>
            </div>

            <div class="video-container">
                <iframe 
                    src="https://www.youtube.com/embed/dQw4w9WgXcQ" 
                    title="Trem da Alegria - DemonstraÃ§Ã£o" 
                    frameborder="0" 
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                    allowfullscreen>
                </iframe>
            </div>

            <div class="sidebar">
                <div class="counter-box">
                    <h3>ğŸ’¡ LEDs Ativos</h3>
                    <div class="counter-value" id="ledCounter">0</div>
                </div>
                <div class="counter-box">
                    <h3>ğŸ”„ Voltas na Pista</h3>
                    <div class="counter-value" id="lapCounter">0</div>
                </div>
            </div>
        </div>

        <div class="control-section">
            <div class="countdown-display" id="countdownDisplay"></div>
            <div class="status-message" id="statusMessage">ğŸ„ Pronto para iniciar! ğŸ„</div>
            <button class="start-button" id="startButton">ğŸ… Iniciar Trem ğŸ„</button>
        </div>
    </div>

    <!-- Script que gera os flocos, estrelas, trem, etc -->
    <script>
        let trainRunning = false;
        let ledCount = 0;
        let lapCount = 0;
        let ledInterval;
        let lapInterval;

        const startButton = document.getElementById('startButton');
        const countdownDisplay = document.getElementById('countdownDisplay');
        const statusMessage = document.getElementById('statusMessage');
        const ledCounter = document.getElementById('ledCounter');
        const lapCounter = document.getElementById('lapCounter');

        function createStars() {
            for (let i = 0; i < 150; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                const size = Math.random() * 3 + 1;
                star.style.width = size + 'px';
                star.style.height = size + 'px';
                star.style.left = Math.random() * 100 + '%';
                star.style.top = Math.random() * 70 + '%';
                star.style.animationDelay = Math.random() * 3 + 's';
                star.style.animationDuration = (Math.random() * 2 + 1) + 's';
                document.body.appendChild(star);
            }
        }

        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            const snowTypes = ['â„', 'â…', 'â†'];
            snowflake.innerHTML = snowTypes[Math.floor(Math.random() * snowTypes.length)];
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.animationDuration = Math.random() * 3 + 4 + 's';
            snowflake.style.opacity = Math.random() * 0.6 + 0.4;
            snowflake.style.fontSize = Math.random() * 20 + 10 + 'px';
            document.body.appendChild(snowflake);
            setTimeout(() => snowflake.remove(), 10000);
        }

        setInterval(createSnowflake, 120);

        function startCountdown() {
            startButton.disabled = true;
            let count = 10;
            countdownDisplay.textContent = count;
            statusMessage.textContent = 'ğŸ… Contagem regressiva iniciada!';
            const countdownInterval = setInterval(() => {
                count--;
                countdownDisplay.textContent = count;
                if (count === 5) statusMessage.textContent = 'ğŸ„ Preparando o trem...';
                if (count === 0) {
                    clearInterval(countdownInterval);
                    countdownDisplay.textContent = 'ğŸ‰';
                    statusMessage.textContent = 'ğŸš‚ Trem em movimento! Boa viagem! ğŸŠ';
                    startTrain();
                }
            }, 1000);
        }

        function startTrain() {
            trainRunning = true;
            ledCount = 0;
            lapCount = 0;
            ledCounter.textContent = ledCount;
            lapCounter.textContent = lapCount;

            ledInterval = setInterval(() => {
                if (ledCount < 50) {
                    ledCount++;
                    ledCounter.textContent = ledCount;
                }
            }, 100);

            lapInterval = setInterval(() => {
                lapCount++;
                lapCounter.textContent = lapCount;
                ledCount = 0;
                ledCounter.textContent = ledCount;
                clearInterval(ledInterval);
                ledInterval = setInterval(() => {
                    if (ledCount < 50) {
                        ledCount++;
                        ledCounter.textContent = ledCount;
                    }
                }, 100);
                statusMessage.textContent = `ğŸ„ Volta ${lapCount} completa! LEDs reiniciados. ğŸ`;
            }, 8000);
        }

        createStars();
        for (let i = 0; i < 40; i++) setTimeout(createSnowflake, i * 80);
    </script>
</body>
</html>
